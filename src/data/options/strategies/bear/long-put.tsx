import type { Strategy } from '../../../../lib/options/types'

const strategy: Strategy = {
  id: 'long-put',
  name: '买入看跌期权 (Long Put)',
  referencePrice: 100,
  tags: ['方向：看空/保护', '支付权利金', '风险：有限', '新手入门'],
  summary: '这是最基础的看跌策略，常用于投机或对冲。通过支付一笔固定的权利金，获得在未来以特定价格卖出标的资产的权利。如果股价大幅下跌，收益巨大；如果股价上涨，最大亏损就是你支付的权利金。',
  description: '买入看跌期权（Long Put）是一种看空策略。投资者支付权利金（Premium）买入一份看跌期权合约，该合约赋予持有者在到期日（Expiration）或之前，以约定的执行价（Strike Price）卖出指定数量（通常是100股）标的资产的权利，但没有必须卖出的义务。此策略适用于预期标的资产价格将下跌的场景，也可用于保护已持有的股票多头头寸（即构成 “Protective Put” 策略）。',
  concept: '你可以把买入看跌期权想象成给你的股票购买一份“价格下跌保险”。你现在花一笔保费（权利金），锁定了一个未来无论股价跌到多低，你都能以一个较高的、固定的价格（执行价）卖出的权利。如果股价真的大跌，你的“保险”就派上了用场，让你避免了更大的损失或从中获利。如果股价上涨，你最多就损失了这笔“保费”。和所有保险一样，它有有效期，过期需要重新购买。',
  pros: [
    '**杠杆效应**：用较小的资金（权利金）做空价值更高的资产（100股股票），如果方向正确，收益率高。',
    '**风险有限**：最大亏损是100%确定的，即你支付的全部权利金。',
    '**无需融券和支付利息**：相比直接做空股票，买入看跌期权不需要借入股票，也无需支付融券利息。'
  ],
  cons: [
    '**时间价值损耗 (Time Decay)**：时间是你最大的敌人。即使股价朝着有利的方向发展，如果速度不够快，时间价值的损耗也可能侵蚀你的利润。',
    '**需要股价大幅波动**：股价下跌的幅度必须超过你支付的权利金成本，策略才能盈利。',
    '**可能损失全部本金**：如果到期时股价没有跌破执行价，你将损失投入的全部权利金。'
  ],
  example: (
    <div>
      <p>假设你认为B公司股票（当前股价$102）未来一个月会下跌。你决定买入一张下个月到期、执行价为$100的看跌期权，并为此支付了$4的权利金（每股$4，一张合约对应100股，共$400）。</p>
      <p><strong>情景一：股价大跌至$90</strong></p>
      <p>到期时，你的期权允许你以$100的价格卖出市价$90的股票。这张期权的内在价值为 $100 - $90 = $10/股。你的净利润为（内在价值 - 权利金成本）* 100 = ($10 - $4) * 100 = $600。你的投资回报率为150%。</p>
      <p><strong>情景二：股价上涨，收于$105</strong></p>
      <p>到期时，以$100的价格去卖市价$105的股票是不划算的，所以你会放弃行权。你损失了当初为购买期权支付的全部权利金，即$400。</p>
      <p><strong>盈亏平衡点</strong></p>
      <p>要实现不亏不赚，股价需要跌到“执行价 - 权利金”，即 <em>$100 - $4 = $96</em>。当股价低于$96时，你开始盈利。</p>
    </div>
  ),
  formula: ['最大亏损 = 支付的全部权利金', '盈亏平衡点 = 执行价 - 每股权利金'],
  legs: [
    { id: 'lp', kind: 'option', position: 'long', qty: 1, multiplier: 100, entryPrice: 4, option: { type: 'put', strike: 100 } },
  ],
}

export default strategy

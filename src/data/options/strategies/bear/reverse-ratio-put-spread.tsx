import type { Strategy } from '../../../../lib/options/types';

const strategy: Strategy = {
  id: 'reverse-ratio-put-spread',
  name: '反向看跌比例价差 (Reverse Ratio Put Spread 2x1) Put Ratio Backspread',
  referencePrice: 100,
  tags: ['方向：大看空', '波动率策略', '风险：有限', 'Put Ratio Backspread', 'Backspread'],
  summary: '买入2份或更多较低执行价的看跌期权，同时卖出1份较高执行价的看跌期权，以博取股价大幅下跌的利润。',
  description: '反向看跌比例价差是一种看空策略，但与标准的熊市价差不同，它在股价大幅下跌时具有无限的盈利潜力。通过买入更多份数的看跌期权，该策略牺牲了在小幅下跌行情中的表现，以换取在“黑天鹅”事件或市场崩盘中获得巨大回报的能力。',
  concept: '这可以看作是一种“买彩票”式的看空策略。你卖掉一份“小跌保险”（卖出较高价看跌期权）来收钱，然后用这笔钱加倍买入两份“暴跌彩票”（买入较低价看跌期权）。如果市场只是小跌或上涨，你卖出的保险会让你亏钱。但如果市场真的崩盘，你的两张彩票会带来远超保险亏损的巨大回报。',
  pros: [
    '**下行利润无限**：如果股价发生剧烈下跌，理论上的盈利潜力是无限的。',
    '**风险有限**：如果股价上涨，最大亏损是确定的。',
    '**对冲尾部风险**：非常适合用作投资组合的尾部风险对冲工具。',
  ],
  cons: [
    '**需要大幅波动**：策略只有在股价发生足够大的下跌时才能盈利。',
    '**时间价值损耗**：作为期权的净买方，如果股价横盘或小幅波动，时间价值的流逝对你不利。',
    '**盈利概率较低**：该策略博取的是小概率事件，因此盈利的频率可能不高。',
  ],
  example: (
    <div>
      <p>你强烈看空G公司股票（当前股价$100），并预期可能会有一次大跌。你建立了一个2x1的反向看跌比例价差：</p>
      <ul>
        <li>卖出1张执行价为$100的看跌期权，收入$4/股（共$400）。</li>
        <li>买入2张执行价为$95的看跌期权，每张花费$2/股（共$400）。</li>
      </ul>
      <p>你的净权利金支出为 $0，这是一个零成本策略。</p>
      <p><strong>情景一：股价到期时收于$98（小幅下跌）</strong></p>
      <p>你卖出的$100看跌期权亏损$2/股 ($200)。你买入的两张$95看跌期权变为废纸。你的总亏损为 <strong>$200</strong>。</p>
      <p><strong>情景二：股价到期时暴跌至$80</strong></p>
      <p>你卖出的$100看跌期权亏损$20/股 ($2000)。但你买入的两张$95看跌期权每张盈利$15/股，总盈利$3000。综合来看，你的净利润为 <strong>$1000</strong> ($3000 - $2000)。</p>
      <p><strong>盈亏平衡点</strong></p>
      <p>此策略有两个盈亏平衡点。上方的是 <em>$100 - $0 = $100</em>。下方的是 <em>(2 * $95 - 1 * $100) = $90</em>。股价低于$90时，你开始获得加速盈利。</p>
    </div>
  ),
  formula: [
    '最大亏损 = (高执行价 - 低执行价) × 合约乘数 - 净权利金',
    '下行盈利 ≈ 无限',
    '上方盈亏平衡点 = 卖出看跌的执行价 - 每股净权利金',
    '下方盈亏平衡点 = (买入数量 × 买入执行价 - 卖出数量 × 卖出执行价) / (买入数量 - 卖出数量)',
  ],
  legs: [
    { id: 'sp100',  kind: 'option', position: 'short', qty: 1, multiplier: 100, entryPrice: 4, option: { type: 'put',  strike: 100 } },
    { id: 'lp95x2', kind: 'option', position: 'long',  qty: 2, multiplier: 100, entryPrice: 2, option: { type: 'put',  strike: 95  } },
  ],
};

export default strategy;

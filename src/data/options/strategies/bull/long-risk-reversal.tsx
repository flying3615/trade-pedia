import type { Strategy } from '../../../../lib/options/types';

const strategy: Strategy = {
  id: 'long-risk-reversal',
  name: '多头风险反转 (Long Risk Reversal)',
  referencePrice: 100,
  tags: ['方向：看多', '类多头', '风险：较大'],
  summary: '通过买入一份虚值看涨期权和卖出一份虚值看跌期权，来模拟做多股票的头寸，通常成本很低。',
  description: '多头风险反转（也称为“领子”策略的变种）是一种看多策略，它组合了买入一份虚值看涨期权（Long Call）和卖出一份虚值看跌期权（Short Put）。卖出看跌期权的收入用于补贴买入看涨期权的成本，常常可以实现零成本建仓。该策略在股价上涨时获利，在股价下跌时亏损，其盈亏曲线类似于直接做多股票。',
  concept: '这个策略可以理解为“用未来的下跌风险换取现在的上涨机会”。你卖掉了股票下跌时低价接盘的义务（卖出看跌期权），然后用这笔钱买了一份股票上涨的彩票（买入看涨期权）。如果股价真的上涨，你的彩票就中奖了；如果股价下跌，你就需要履行低价接盘的义务，就像你真的在低位买入了股票一样。',
  pros: [
    '**建仓成本低**：可以通过选择不同的执行价，轻松实现零成本甚至净收入建仓。',
    '**上行利润无限**：如果股价大幅上涨，盈利潜力是无限的。',
    '**模拟多头**：提供了一种替代直接购买股票或期货的方式，资本效率更高。',
  ],
  cons: [
    '**下行风险巨大**：与直接持股类似，如果股价大幅下跌，理论亏损巨大（直到股价归零）。',
    '**需要保证金**：由于包含了卖出期权（Short Put），该策略需要交易者存入保证金。',
    '**双重损失**：如果股价保持在两个执行价之间，你既无法从上涨中获利，又可能因为时间价值损耗而亏损（如果建仓时是净支出）。',
  ],
  example: (
    <div>
      <p>你强烈看好J公司股票（当前股价$100），并希望建立一个类似持股的头寸。你执行了一个多头风险反转策略：</p>
      <ul>
        <li>买入一张执行价为$105的看涨期权（Long Call），花费$2/股（共$200）。</li>
        <li>卖出一张执行价为$95的看跌期权（Short Put），收入$2/股（共$200）。</li>
      </ul>
      <p>你的净权利金支出为 $0，这是一个零成本的看多策略。</p>
      <p><strong>情景一：股价到期时暴涨至$115</strong></p>
      <p>你的$105看涨期权现在价值$10/股，盈利$1000。你卖出的$95看跌期权变为废纸。你的总利润为 <strong>$1000</strong>。</p>
      <p><strong>情景二：股价到期时下跌至$90</strong></p>
      <p>你的$105看涨期权变为废纸。但你卖出的$95看跌期权被行权，你必须以$95的价格买入市价仅为$90的股票，导致$5/股的亏损，总计亏损 <strong>$500</strong>。</p>
      <p><strong>盈亏平衡点</strong></p>
      <p>由于初始成本为零，盈亏平衡点就是股价等于两个执行价相对于中间价的对称点，即大约在$100。股价高于$100开始盈利，低于$100开始亏损。</p>
    </div>
  ),
  formula: [
    '上行盈利潜力 = (股价 - 看涨执行价) × 合约乘数',
    '下行亏损风险 = (执行价 - 股价) × 合约乘数',
    '盈亏平衡点 ≈ 建仓时的股价（假设净权利金为零）',
  ],
  legs: [
    { id: 'lc105', kind: 'option', position: 'long', qty: 1, multiplier: 100, entryPrice: 2, option: { type: 'call', strike: 105 } },
    { id: 'sp95',  kind: 'option', position: 'short', qty: 1, multiplier: 100, entryPrice: 2, option: { type: 'put',  strike: 95  } },
  ],
};

export default strategy;

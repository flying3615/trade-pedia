import type { Strategy } from '../../../../lib/options/types';

const strategy: Strategy = {
  id: 'reverse-ratio-call-spread',
  name: '反向看涨比例价差 (Reverse Ratio Call Spread 2x1) Call Ratio Backspread',
  referencePrice: 100,
  tags: ['方向：大看多', '波动率策略', '风险：有限', 'Call Ratio Backspread', 'Backspread'],
  summary: '买入2份或更多较高执行价的看涨期权，同时卖出1份较低执行价的看涨期权，以博取股价大幅上涨的利润。',
  description: '反向看涨比例价差是一种看多策略，但与标准的牛市价差不同，它在股价大幅上涨时具有无限的盈利潜力。通过买入更多份数的看涨期权，该策略牺牲了在小幅上涨行情中的表现，以换取在“黑天鹅”事件或市场飙升中获得巨大回报的能力。',
  concept: '这可以看作是一种“买彩票”式的看多策略。你卖掉一份“小涨保险”（卖出较低价看涨期权）来收钱，然后用这笔钱加倍买入两份“暴涨彩票”（买入较高价看涨期权）。如果市场只是小涨或下跌，你卖出的保险会让你亏钱。但如果市场真的暴涨，你的两张彩票会带来远超保险亏损的巨大回报。',
  pros: [
    '**上行利润无限**：如果股价发生剧烈上涨，理论上的盈利潜力是无限的。',
    '**风险有限**：如果股价下跌，最大亏损是确定的。',
    '**对冲尾部风险**：非常适合用作投资组合的尾部风险对冲工具，捕捉极端上涨行情。',
  ],
  cons: [
    '**需要大幅波动**：策略只有在股价发生足够大的上涨时才能盈利。',
    '**时间价值损耗**：作为期权的净买方，如果股价横盘或小幅波动，时间价值的流逝对你不利。',
    '**盈利概率较低**：该策略博取的是小概率事件，因此盈利的频率可能不高。',
  ],
  example: (
    <div>
      <p>你强烈看好L公司股票（当前股价$100），并预期可能会有一次大涨。你建立了一个2x1的反向看涨比例价差：</p>
      <ul>
        <li>卖出1张执行价为$100的看涨期权，收入$4/股（共$400）。</li>
        <li>买入2张执行价为$105的看涨期权，每张花费$2/股（共$400）。</li>
      </ul>
      <p>你的净权利金支出为 $0，这是一个零成本策略。</p>
      <p><strong>情景一：股价到期时收于$102（小幅上涨）</strong></p>
      <p>你卖出的$100看涨期权亏损$2/股 ($200)。你买入的两张$105看涨期权变为废纸。你的总亏损为 <strong>$200</strong>。</p>
      <p><strong>情景二：股价到期时暴涨至$120</strong></p>
      <p>你卖出的$100看涨期权亏损$20/股 ($2000)。但你买入的两张$105看涨期权每张盈利$15/股，总盈利$3000。综合来看，你的净利润为 <strong>$1000</strong> ($3000 - $2000)。</p>
      <p><strong>盈亏平衡点</strong></p>
      <p>此策略有两个盈亏平衡点。下方的是 <em>$100 + $0 = $100</em>。上方的是 <em>(2 * $105 - 1 * $100) = $110</em>。股价高于$110时，你开始获得加速盈利。</p>
    </div>
  ),
  formula: [
    '最大亏损 = (高执行价 - 低执行价) × 合约乘数 - 净权利金',
    '上行盈利 ≈ 无限',
    '下方盈亏平衡点 = 卖出看涨的执行价 + 每股净权利金',
    '上方盈亏平衡点 = (买入数量 × 买入执行价 - 卖出数量 × 卖出执行价) / (买入数量 - 卖出数量)',
  ],
  legs: [
    { id: 'sc100',  kind: 'option', position: 'short', qty: 1, multiplier: 100, entryPrice: 4, option: { type: 'call', strike: 100 } },
    { id: 'lc105x2', kind: 'option', position: 'long',  qty: 2, multiplier: 100, entryPrice: 2, option: { type: 'call', strike: 105 } },
  ],
};

export default strategy;

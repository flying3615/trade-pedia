import type { Strategy } from '../../../../lib/options/types';

const strategy: Strategy = {
  id: 'short-strangle',
  name: '卖出宽跨式 (Short Strangle)',
  referencePrice: 100,
  tags: ['方向：中性', '收取权利金', '风险：无限'],
  summary: '在不同执行价同时卖出虚值的看涨和看跌期权，以收取权利金，赌股价将在一个宽幅区间内波动。',
  description: '卖出宽跨式是卖出跨式的变种，同样是一种高风险的中性策略。交易者通过卖出虚值的看涨和看跌期权来收取权利金。相比跨式，宽跨式的盈利区间更宽，收到的权利金较少，但给了股价更大的波动空间。如果股价保持在两个执行价之间，策略就能盈利。然而，如果股价发生大幅波动，理论上的亏损仍然是无限的。',
  concept: '这就像你在一个区间两端画了两条线，然后开盘口：“我赌股价会留在这个区间内。”因为你的区间比跨式策略更宽，所以你收到的权利金会少一些，但你获胜的概率也更高了。只要股价不突破你画的这两条线，你就赢了。但一旦突破，你的亏损就会迅速扩大。',
  pros: [
    '**更高的获胜概率**：相比卖出跨式，盈利区间更宽，股价有更大的移动空间。',
    '**时间价值有利**：时间的流逝对卖方有利。',
    '**仍然可观的权利金**：虽然低于跨式，但权利金收入依然很可观。',
  ],
  cons: [
    '**双向无限风险**：和跨式一样，理论亏损是无限的。',
    '**需要高额保证金**：由于风险巨大，券商会要求很高的保证金。',
    '**利润上限**：最大利润被限制在收到的权利金内。',
  ],
  example: (
    <div>
      <p>你预测T公司股票（当前股价$100）将保持在一个较宽的范围内盘整。于是你建立了一个卖出宽跨式策略：</p>
      <ul>
        <li>卖出1张执行价为$103的看涨期权，收入$4/股。</li>
        <li>卖出1张执行价为$97的看跌期权，收入$3/股。</li>
      </ul>
      <p>你总共获得了 <strong>$700</strong> 的净权利金 ($400 + $300)，这是你的最大潜在利润。</p>
      <p><strong>情景一：股价到期时收于$102（在区间内）</strong></p>
      <p>所有期权都变为废纸，你将赚取全部初始收入 <strong>$700</strong>。</p>
      <p><strong>情景二：股价到期时上涨至$112</strong></p>
      <p>你的$103看涨期权亏损$900，看跌期权变为废纸。减去$700的净收入，最终亏损为 <strong>$200</strong>。</p>
      <p><strong>盈亏平衡点</strong></p>
      <p>此策略的盈亏平衡点是 <em>$97 - $7 = $90</em> 和 <em>$103 + $7 = $110</em>。股价在$90到$110之间是你的盈利区间。</p>
    </div>
  ),
  formula: [
    '最大盈利 = 收到的净权利金',
    '最大亏损 = 无限',
    '上方盈亏平衡点 = 看涨执行价 + 每股净权利金',
    '下方盈亏平衡点 = 看跌执行价 - 每股净权利金',
  ],
  legs: [
    { id: 'sp97', kind: 'option', position: 'short', qty: 1, multiplier: 100, entryPrice: 3, option: { type: 'put', strike: 97 } },
    { id: 'sc103', kind: 'option', position: 'short', qty: 1, multiplier: 100, entryPrice: 4, option: { type: 'call', strike: 103 } },
  ],
};

export default strategy;
